"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[911],{2145:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"TechnicalDocs/APP-intro/APP-intro","title":"\u6784\u5efa LLM \u5e94\u7528","description":"\u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u5229\u7528\u73b0\u6709\u4ee3\u7801\u6846\u67b6\uff0c\u5feb\u901f\u6784\u5efa\u7528\u4e8e\u6587\u672c\u4ea4\u4e92\u7684 LLM \u5e94\u7528\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/TechnicalDocs/APP-intro/APP-intro.mdx","sourceDirName":"TechnicalDocs/APP-intro","slug":"/TechnicalDocs/APP-intro/","permalink":"/zh/docs/TechnicalDocs/APP-intro/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"TechnicalDocsSidebar","previous":{"title":"\u4f7f\u7528\u5f3a\u5236\u4e0b\u8f7d\u5de5\u5177\u70e7\u5f55\u56fa\u4ef6\u8bf4\u660e","permalink":"/zh/docs/TechnicalDocs/quickstart/flash"},"next":{"title":"\u6770\u7406\u5b98\u65b9\u6587\u6863\u8bf4\u660e","permalink":"/zh/docs/TechnicalDocs/SDK-intro/JL-docs"}}');var t=r(4848),s=r(8453);const i={},l="\u6784\u5efa LLM \u5e94\u7528",c={},d=[{value:"\u5de5\u4f5c\u539f\u7406",id:"\u5de5\u4f5c\u539f\u7406",level:2},{value:"\u5982\u4f55\u4f7f\u7528 UnifiedChatManager \u6784\u5efa\u81ea\u5b9a\u4e49 LLM",id:"\u5982\u4f55\u4f7f\u7528-unifiedchatmanager-\u6784\u5efa\u81ea\u5b9a\u4e49-llm",level:2},{value:"\u5982\u4f55\u8bbe\u7f6e\u81ea\u5b9a\u4e49 LLM",id:"\u5982\u4f55\u8bbe\u7f6e\u81ea\u5b9a\u4e49-llm",level:3},{value:"\u521b\u5efa env \u6587\u4ef6",id:"\u521b\u5efa-env-\u6587\u4ef6",level:4},{value:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",level:4},{value:"\u5982\u4f55\u5f55\u97f3",id:"\u5982\u4f55\u5f55\u97f3",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u6784\u5efa-llm-\u5e94\u7528",children:"\u6784\u5efa LLM \u5e94\u7528"})}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u5229\u7528\u73b0\u6709\u4ee3\u7801\u6846\u67b6\uff0c\u5feb\u901f\u6784\u5efa\u7528\u4e8e\u6587\u672c\u4ea4\u4e92\u7684 LLM \u5e94\u7528\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u5de5\u4f5c\u539f\u7406",children:"\u5de5\u4f5c\u539f\u7406"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"base_llm.dart"})," \u662f\u57fa\u7840\u62bd\u8c61\u5c42\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u4efb\u4f55\u5177\u4f53\u5b9e\u73b0\uff0c\u4ec5\u5b9a\u4e49\u63a5\u53e3\u89c4\u8303\uff0c\u9884\u7559\u591a\u6a21\u6001\u652f\u6301\uff08\u5982\u97f3\u9891\u8f93\u5165/\u8f93\u51fa\uff09\uff0c\u5e76\u5305\u542b\u4e0e UI \u5c55\u793a\u76f8\u5173\u7684\u8f85\u52a9\u51fd\u6570\u3002"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5b9a\u4e49\u4e86 ",(0,t.jsx)(n.code,{children:"LLMType"})," \u679a\u4e3e\uff0c\u5305\u62ec ",(0,t.jsx)(n.code,{children:"customLLM"})," \u548c ",(0,t.jsx)(n.code,{children:"qwenOmni"})," \u4e24\u79cd\u7c7b\u578b\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5b9e\u73b0\u4e86 ",(0,t.jsx)(n.code,{children:"LLMTypeExtension"}),"\uff0c\u7528\u4e8e\u63d0\u4f9b\u6a21\u578b\u56fe\u6807\u3001\u989c\u8272\u3001\u663e\u793a\u540d\u79f0\u7b49 UI \u76f8\u5173\u529f\u80fd\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5b9a\u4e49\u4e86 ",(0,t.jsx)(n.code,{children:"LLMConfig"})," \u914d\u7f6e\u7c7b\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u6a21\u578b\u53c2\u6570\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5b9a\u4e49\u4e86 ",(0,t.jsx)(n.code,{children:"BaseLLM"})," \u62bd\u8c61\u57fa\u7c7b\uff0c\u89c4\u5b9a\u6240\u6709 LLM \u5b9e\u73b0\u5fc5\u987b\u652f\u6301\u7684\u63a5\u53e3\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u4e3b\u8981\u63a5\u53e3\u5305\u62ec\uff1a"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"initialize() // \u521d\u59cb\u5316 LLM\uff08\u52a0\u8f7d\u914d\u7f6e\u3001\u5efa\u7acb\u8fde\u63a5\uff09\r\ndispose() // \u91ca\u653e\u8d44\u6e90\r\ncreateRequest() // \u540c\u6b65\u6587\u672c\u8bf7\u6c42\r\ncreateStreamingRequest() // \u6d41\u5f0f\u6587\u672c\u8bf7\u6c42\r\ncreateStreamingRequestWithAudio() // \u5e26\u97f3\u9891\u7684\u6d41\u5f0f\u8bf7\u6c42\uff08\u9ed8\u8ba4\u629b\u51fa\u4e0d\u652f\u6301\u5f02\u5e38\uff09\n"})}),"\n",(0,t.jsx)(n.p,{children:"llm_factory.dart \u4e3a\u5de5\u5382\u4e0e\u7ba1\u7406\u5c42\uff0c\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\u7ba1\u7406 LLM \u5b9e\u4f8b\u751f\u547d\u5468\u671f\uff0c\u6839\u636e\u914d\u7f6e\u548c\u53ef\u7528\u6027\u667a\u80fd\u9009\u62e9\u6700\u5408\u9002\u7684 LLM \u7c7b\u578b\uff0c\u652f\u6301 LLM \u7c7b\u578b\u5207\u6362\u4e0e\u914d\u7f6e\u91cd\u8f7d\uff0c\u63d0\u4f9b LLM \u72b6\u6001\u67e5\u8be2\u548c\u529f\u80fd\u68c0\u6d4b\u670d\u52a1\u3002\r\n\u5173\u952e\u63a5\u53e3\u5305\u62ec\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"getCurrentLLM() // \u83b7\u53d6\u5f53\u524d LLM \u5b9e\u4f8b\uff08\u6309\u9700\u521b\u5efa\uff09\r\ngetLLM() // \u83b7\u53d6\u6307\u5b9a\u7c7b\u578b LLM \u5b9e\u4f8b\r\nswitchToLLMType() // \u5207\u6362\u5230\u6307\u5b9a LLM \u7c7b\u578b\r\nreloadLLMConfig() // \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\r\nisLLMAvailable() // \u68c0\u67e5\u6307\u5b9a LLM \u7c7b\u578b\u662f\u5426\u53ef\u7528\r\ngetAvailableLLMTypes() // \u83b7\u53d6\u6240\u6709\u53ef\u7528 LLM \u7c7b\u578b\n"})}),"\n",(0,t.jsx)(n.p,{children:"custom_llm.dart \u4e3a\u7528\u6237\u81ea\u5b9a\u4e49\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5177\u4f53\u5b9e\u73b0\u7c7b\uff0c\u5b9e\u73b0\u4e86\u52a0\u8f7d\u7528\u6237\u914d\u7f6e\uff0c\u521b\u5efa\u6d41\u5f0f\u548c\u975e\u6d41\u5f0f\u8bf7\u6c42\uff0c\u5904\u7406\u8fd4\u56de\u683c\u5f0f\u7b49\u529f\u80fd\u3002\r\n\u5173\u952e\u63a5\u53e3\u5305\u62ec\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"initialize() // \u521d\u59cb\u5316\u5e76\u52a0\u8f7d\u7528\u6237\u914d\u7f6e\r\ncreateRequest() // \u975e\u6d41\u5f0f\u8bf7\u6c42\r\ncreateStreamingRequest() // \u6d41\u5f0f\u8bf7\u6c42\n"})}),"\n",(0,t.jsx)(n.p,{children:"qwen_omni_llm.dart \u4e3a\u591a\u6a21\u6001\u8bed\u8a00\u6a21\u578b\u7684\u5177\u4f53\u5b9e\u73b0\u7c7b\uff0c\u5b9e\u73b0\u963f\u91cc\u4e91\u901a\u4e49\u5343\u95ee Omni \u591a\u6a21\u6001 API \u8c03\u7528\uff0c\u5904\u7406\u97f3\u9891\u8f93\u5165\u8f93\u51fa\uff08WAV \u683c\u5f0f\uff09\uff0c\u652f\u6301\u6d41\u5f0f\u6587\u672c\u54cd\u5e94\u548c\u5e26\u97f3\u9891\u7684\u6d41\u5f0f\u54cd\u5e94\uff0c\u80fd\u591f\u81ea\u52a8\u5904\u7406 Base64 \u97f3\u9891\u7f16\u89e3\u7801\u3002\r\n\u5173\u952e\u63a5\u53e3\u5305\u62ec\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"createStreamingRequestWithAudio() // \u97f3\u9891\u8bf7\u6c42\u5904\u7406\n"})}),"\n",(0,t.jsx)(n.p,{children:"unified_chat_manager.dart \u4e3a\u4e0a\u5c42\u670d\u52a1\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u804a\u5929\u63a5\u53e3\uff0c\u5c4f\u853d\u5e95\u5c42 LLM \u5dee\u5f02\uff0c\u81ea\u52a8\u6784\u5efa\u5305\u542b\u4e0a\u4e0b\u6587\u7684\u8f93\u5165\u5185\u5bb9\uff0c\u81ea\u52a8\u7ba1\u7406\u804a\u5929\u4f1a\u8bdd\u5386\u53f2\u548c\u72b6\u6001\uff0c\u652f\u6301\u5386\u53f2\u8bb0\u5f55\u7684\u6301\u4e45\u5316\u3001\u52a0\u8f7d\u548c\u8fc7\u6ee4\u3002\r\n\u5173\u952e\u63a5\u53e3\u5305\u62ec\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"init() // \u521d\u59cb\u5316\u804a\u5929\u7ba1\u7406\u5668\r\ncreateStreamingRequest() // \u521b\u5efa\u6587\u672c\u6d41\u5f0f\u8bf7\u6c42\r\ncreateStreamingRequestWithAudio() // \u521b\u5efa\u5e26\u97f3\u9891\u7684\u6d41\u5f0f\u8bf7\u6c42\r\nbuildInput() // \u6784\u5efa\u5305\u542b\u5386\u53f2\u8bb0\u5f55\u7684\u8f93\u5165\r\naddChatSession() // \u6dfb\u52a0\u804a\u5929\u8bb0\u5f55\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u4f7f\u7528-unifiedchatmanager-\u6784\u5efa\u81ea\u5b9a\u4e49-llm",children:"\u5982\u4f55\u4f7f\u7528 UnifiedChatManager \u6784\u5efa\u81ea\u5b9a\u4e49 LLM"}),"\n",(0,t.jsx)(n.h3,{id:"\u5982\u4f55\u8bbe\u7f6e\u81ea\u5b9a\u4e49-llm",children:"\u5982\u4f55\u8bbe\u7f6e\u81ea\u5b9a\u4e49 LLM"}),"\n",(0,t.jsx)(n.h4,{id:"\u521b\u5efa-env-\u6587\u4ef6",children:"\u521b\u5efa env \u6587\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa env \u6587\u4ef6\uff08\u4e0e pubspec.yaml \u540c\u7ea7\uff09\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c\r\ntouch env\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",children:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 env \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff0c\u5c06\u793a\u4f8b\u503c\u66ff\u6362\u4e3a\u60a8\u7684\u5b9e\u9645API keys\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u81ea\u5b9a\u4e49LLM\u914d\u7f6e (OpenAI\u517c\u5bb9)\r\nDEFAULT_LLM_TOKEN=your_openai_api_key_here\r\nDEFAULT_LLM_URL=https://api.openai.com/v1/chat/completions\r\nDEFAULT_LLM_MODEL=gpt-4o\r\n\r\n# \u963f\u91cc\u4e91DashScope API Key (\u7528\u4e8eQwenOmni\u591a\u6a21\u6001)\r\nDEFAULT_ALIBABA_API_KEY=your_alibaba_dashscope_api_key_here\r\n\r\n# \u817e\u8baf\u4e91ASR\u914d\u7f6e (\u7528\u4e8e\u4e91\u7aef\u8bed\u97f3\u8bc6\u522b)\r\nDEFAULT_TENCENT_SECRET_ID=your_tencent_secret_id_here\r\nDEFAULT_TENCENT_SECRET_KEY=your_tencent_secret_key_here\r\nDEFAULT_TENCENT_TOKEN=your_tencent_token_here\r\n\r\n# OpenAI TTS\u914d\u7f6e (\u7528\u4e8e\u8bed\u97f3\u5408\u6210)\r\nDEFAULT_OPENAI_TTS_BASE_URL=https://api.openai.com/v1/audio/speech\n"})}),"\n",(0,t.jsx)(n.p,{children:"###\u5982\u4f55\u8c03\u7528\u5e76\u83b7\u53d6\u7ed3\u679c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:'\u6309\u7167\u4e0b\u65b9\u793a\u4f8b\u8fdb\u884c\u8c03\u7528\uff0c\u521b\u5efa\u6587\u672c\u8bf7\u6c42\uff1a\r\n// \u521d\u59cb\u5316\u7ba1\u7406\u5668\r\nfinal manager = UnifiedChatManager();\r\nawait manager.init(systemPrompt: "\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u52a9\u624b");\r\n\r\n// \u6d41\u5f0f\u6587\u672c\u5bf9\u8bdd\r\nfinal stream = manager.createStreamingRequest(text: "\u4f60\u597d");\r\nstream.listen((response) => print(response));\r\n\r\n// \u975e\u6d41\u5f0f\u6587\u672c\u5bf9\u8bdd\r\nfinal response = manager.createRequest(text: "\u4f60\u597d");\r\nprint(response);\n'})}),"\n",(0,t.jsx)(n.p,{children:"###\u5982\u4f55\u7ef4\u62a4\u5bf9\u8bdd\u4e0a\u4e0b\u6587\r\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u4f7f\u7528 createStreamingRequest \u8c03\u7528\u6d41\u5f0f\u6587\u672c\u8bf7\u6c42\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u51fd\u6570 buildInput \uff0c\u5c06\u6240\u6709\u5386\u53f2\u4fe1\u606f\u7ec4\u5408\u6210\u4e00\u6761message\uff0cbuildInput \u4f1a\u8bfb\u53d6ChatSession\uff0c\u56e0\u6b64\u9700\u8981\u624b\u52a8\u8c03\u7528 addChatSession \u6765\u6dfb\u52a0\u5386\u53f2\u4f1a\u8bdd\uff0c\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:'// \u521d\u59cb\u5316\u7ba1\u7406\u5668\r\nfinal manager = UnifiedChatManager();\r\nawait manager.init(systemPrompt: "\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u52a9\u624b");\r\n\r\n// \u6dfb\u52a0\u5386\u53f2\u8bb0\u5f55\r\nmanager.addChatSession(\'user\', "\u4f60\u597d");\r\nmanager.addChatSession(\'assistant\', "\u8bf7\u95ee\u6709\u4ec0\u4e48\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7684\u5417\uff1f");\r\n\r\n// \u6d41\u5f0f\u6587\u672c\u5bf9\u8bdd\r\nfinal stream = manager.createStreamingRequest(text: "\u4eca\u5929\u5929\u6c14\u600e\u4e48\u6837");\r\nstream.listen((response) => print(response));\n'})}),"\n",(0,t.jsx)(n.p,{children:"###\u5982\u4f55\u4f7f\u7528Qwen Omni\r\n\u6309\u7167\u4e0b\u65b9\u793a\u4f8b\u8fdb\u884c\u8c03\u7528\uff0c\u521b\u5efa\u540c\u65f6\u5305\u542b\u97f3\u9891\u548c\u6587\u672c\u7684\u8bf7\u6c42\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:'// \u521d\u59cb\u5316\u7ba1\u7406\u5668\r\nfinal manager = UnifiedChatManager();\r\nawait manager.init(systemPrompt: "\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u52a9\u624b");\r\n\r\n// \u97f3\u9891\u5bf9\u8bdd\r\nfinal audioStream = manager.createStreamingRequestWithAudio(\r\n    audioData: audioBytes,\r\n    userMessage: text,\r\n);\r\naudioStream.listen((response) => print(response));\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6ce8\u610f\uff0ccreateStreamingRequestWithAudio \u4e5f\u4f1a\u9ed8\u8ba4\u81ea\u52a8\u8bfb\u53d6ChatSession\u6765\u6784\u5efa\u6587\u672c\u4e0a\u4e0b\u6587\u3002"}),"\n",(0,t.jsx)(n.p,{children:"#ASR\r\n##\u6211\u4eec\u5982\u4f55\u5b9e\u73b0\u5b83\r\n\u5bf9\u4e8e\u7ecf\u5178\u84dd\u7259\uff0c\u501f\u52a9AudioRecorder\u5b9e\u73b0\u9ea6\u514b\u98ce\u5f55\u97f3\uff0c\u4f9d\u8d56\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"dependencies:\r\n    record: ^5.1.2\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5bf9\u4e8e\u4f4e\u529f\u8017\u84dd\u7259\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u4f4e\u529f\u8017\u84dd\u7259\u8bed\u97f3\u6570\u636e\u4f20\u8f93\u7684\u7c7b BleService \u3002\u63d0\u4f9b\u4f4e\u529f\u8017\u84dd\u7259\u8bbe\u5907\u8fde\u63a5\u3001\u6570\u636e\u4f20\u8f93\u548c\u72b6\u6001\u7ba1\u7406\uff0c\u4f9d\u8d56\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"dependencies:\r\n    flutter_foreground_task: 8.13.0\r\n    flutter_blue_plus: ^1.34.5\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5173\u952e\u63a5\u53e3\u5305\u62ec\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"init() // \u521d\u59cb\u5316\u670d\u52a1\uff0c\u83b7\u53d6\u4fdd\u5b58\u7684 deviceRemoteId\uff0c\u82e5\u5b58\u5728\u5219\u81ea\u52a8\u91cd\u8fde\r\ngetAndConnect() // \u4e3b\u52a8\u83b7\u53d6 deviceRemoteId \u5e76\u8fde\u63a5\r\nlistenToConnectionState() // \u76d1\u542c\u84dd\u7259\u8fde\u63a5\u72b6\u6001\u53d8\u5316\r\nforgetDevice() // \u5fd8\u8bb0\u8bbe\u5907\uff1a\u65ad\u5f00\u5e76\u6e05\u9664\u4fdd\u5b58\u7684\u8bbe\u5907\u4fe1\u606f\r\ndispose() // \u91ca\u653e\u8d44\u6e90\uff0c\u53d6\u6d88\u8ba2\u9605\u5e76\u5173\u95ed\u6570\u636e\u6d41\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5173\u952e\u6210\u5458\u4e3a\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"final StreamController<Uint8List> _dataController = StreamController<Uint8List>();\r\nStream<Uint8List> get dataStream => _dataController.stream;\r\n\u5916\u90e8\u901a\u8fc7\u76d1\u542c dataStream \u6765\u83b7\u5f97\u4f4e\u529f\u8017\u84dd\u7259\u8bbe\u5907\u7684\u4f20\u8f93\u6570\u636e\u3002\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4f55\u5f55\u97f3",children:"\u5982\u4f55\u5f55\u97f3"}),"\n",(0,t.jsx)(n.p,{children:"###\u4f7f\u7528\u7ecf\u5178\u84dd\u7259\u4f20\u8f93\u8bed\u97f3\u6570\u636e\u6216\u624b\u673a\u9ea6\u514b\u98ce\u76f4\u63a5\u5f55\u97f3\r\n\u5728\u83b7\u53d6\u4e86\u9ea6\u514b\u98ce\u6743\u9650\u540e\uff0c\u6309\u7167\u4ee5\u4e0b\u793a\u4f8b\u6253\u5f00\u9ea6\u514b\u98ce\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"// \u914d\u7f6e\u9ea6\u514b\u98ce\u53c2\u6570\uff0c\u4ee5\u4e0b\u4ec5\u4f5c\u793a\u4f8b\r\nconst config = RecordConfig(\r\n    encoder: AudioEncoder.pcm16bits,\r\n    sampleRate: 16000,\r\n    numChannels: 1,\r\n);\r\n\r\n// \u6253\u5f00\u9ea6\u514b\u98ce\r\nfinal recorder = AudioRecorder();\r\nfinal recordStream = await recorder.startStream(config);\r\nrecordStream.listen((data) {\r\n    ...\r\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"##\u4f7f\u7528\u4f4e\u529f\u8017\u84dd\u7259\u4f20\u8f93\u8bed\u97f3\u6570\u636e\r\n\u5728\u4e0e\u4f4e\u529f\u8017\u84dd\u7259\u8bbe\u5907\u8fde\u63a5\u5b8c\u6210\u540e\uff0c\u6309\u7167\u4ee5\u4e0b\u793a\u4f8b\u76d1\u542c\u6570\u636e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"await BleService().init();\r\nfinal bleDataSubscription = BleService().dataStream.listen((value) {\r\n    ...\r\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"#TTS"}),"\n",(0,t.jsx)(n.p,{children:"##\u5982\u4f55\u5b9e\u73b0\r\n\u501f\u52a9 Flutter TTS \u4f7f\u7528\u624b\u673a\u672c\u5730\u7684\u6587\u5b57\u8f6c\u8bed\u97f3\u6a21\u5757\uff0c\u4f9d\u8d56\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"dependencies:\r\n    flutter_tts: ^4.0.2\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u53c2\u8003 ",(0,t.jsx)(n.a,{href:"https://pub.dev/packages/flutter_tts",children:"flutter_tts \u5b98\u65b9\u6587\u6863"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"#\u5982\u4f55\u4f7f\u7528\r\n\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:'// \u521d\u59cb\u5316\r\nfinal flutterTts = FlutterTts();\r\nawait _flutterTts.awaitSpeakCompletion(true);\r\nif (Platform.isAndroid) {\r\n  await _flutterTts.setQueueMode(1);\r\n}\r\n\r\n// \u8c03\u7528\u6587\u672c\u8f6c\u8bed\u97f3\r\nflutterTts.speak("\u4f60\u597d\uff0c\u8fd9\u662f\u4e00\u6b21\u6587\u672c\u8f6c\u8bed\u97f3\u6d4b\u8bd5\u3002");\r\n\r\n// \u4e2d\u65ad\u6216\u505c\u6b62\u8f6c\u8bed\u97f3\r\nflutterTts.stop();\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var a=r(6540);const t={},s=a.createContext(t);function i(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);